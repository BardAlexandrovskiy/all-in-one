(this["webpackJsonpall-in-one"]=this["webpackJsonpall-in-one"]||[]).push([[0],{48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),s=n.n(r),i=n(5),u=n(20),o=n(2),l=n(11),j=n(12),d=(n(48),n(1)),h=function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"container footer-container",children:Object(d.jsx)("nav",{className:"nav-menu",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsxs)(u.b,{to:"/",children:[Object(d.jsx)(l.a,{icon:j.f}),"Main"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.b,{to:"/news",children:[Object(d.jsx)(l.a,{icon:j.i}),"News"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.b,{to:"/weather",children:[Object(d.jsx)(l.a,{icon:j.e}),"Weather"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.b,{to:"/tasks",children:[Object(d.jsx)(l.a,{icon:j.g}),"Tasks"]})})]})})})})},b=n(6),O=n(7),p=n(8),f=n(9),m=(n(50),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"main-screen screen",children:"MainScreen"})}}]),n}(c.a.Component)),v=m,x=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"news-screen screen"})}}]),n}(c.a.Component),k=x,g="SET_CURRENT_LOCATION",y=function(e){return{type:g,payload:e}},E=(n(51),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentCity,n=e.isCurrentCitySearchError,a="";return a=t||(!t&&n?"City not found":"Locating..."),Object(d.jsx)("header",{className:"weather-header",children:Object(d.jsx)("div",{className:"header-container container",children:Object(d.jsxs)("div",{className:"current-city",children:[a,Object(d.jsx)(l.a,{icon:j.h})]})})})}}]),n}(c.a.Component)),N=Object(i.b)((function(e){var t=e.weather.currentLocation;return{currentCity:t.city,isCurrentCitySearchError:t.isSearchError}}))(E),T=n(67),w=n(16),C=(n(52),function(){return Object(d.jsx)("div",{className:"preloader",children:Object(d.jsxs)("div",{className:"lds-roller",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}),V=(n(53),function(e){var t=e.text;return Object(d.jsx)("div",{className:"request-error-banner",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"text",children:t})})})}),I=(n(54),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={weather:null,isPreloader:!1,isError:!1,errorText:""},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.props.currentCity&&(this.setState({isPreloader:!0}),(e=null,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=12c7488f70bcd015f75b9a10d559d91f&units=metric")).then((function(e){if(200===e.status)return e.json();throw new Error(e.status)})).then((function(e){var t=Object(w.a)(e.weather,1)[0],n=t.main,a=t.description,c=t.icon,r=e.main,s=r.temp,i=r.feels_like,u=r.temp_min,o=r.temp_max,l=r.humidity,j=e.wind;return{weatherMain:n,weatherDescription:a,weatherIcon:c,temp:s,tempFeelsLike:i,tempMin:u,tempMax:o,humidity:l,windSpeed:j.speed,windDeg:j.deg,cloudiness:e.clouds.all,cityName:e.name}}))).then((function(e){return t.setState({weather:e})})).catch((function(e){return t.setState({isError:!0,errorText:"Error: ".concat(e.message,".")})})).finally((function(){return t.setState({isPreloader:!1})})))}},{key:"render",value:function(){var e=this.state,t=e.isPreloader,n=e.errorText,a=e.isError;return console.log(this.state),Object(d.jsxs)("div",{className:"weather-info-item",children:[Object(d.jsx)(T.a,{in:t,timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)(C,{})}),Object(d.jsx)(T.a,{in:a,timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)(V,{text:"Oops, something went wrong. ".concat(n)})})]})}}]),n}(c.a.Component)),S=Object(i.b)(null)(I),L=(n(55),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.currentCity;return Object(d.jsx)("div",{className:"weather-main",children:Object(d.jsx)("div",{className:"weather-info-list",children:!!e&&Object(d.jsx)(S,{currentCity:e})})})}}]),n}(c.a.Component)),A=Object(i.b)((function(e){return{currentCity:e.weather.currentLocation.city}}))(L),_=(n(56),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getCurrentLocation;e.currentCity||t()}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"weather-screen screen",children:[Object(d.jsx)(N,{}),Object(d.jsx)(A,{})]})}}]),n}(c.a.Component)),B={getCurrentLocation:function(){return function(e){return e(y({city:"",isSearchError:!1})),fetch("https://api.sypexgeo.net/json/").then((function(e){if(200===e.status)return e.json();throw new Error(e.status)})).then((function(t){var n=t.city;if(!n)throw new Error("Current location not found");e(y({city:n.name_en,isSearchError:!1}))})).catch((function(){e(y({city:"",isSearchError:!0}))}))}}},D=Object(i.b)((function(e){return{currentCity:e.weather.currentLocation.city}}),B)(_),R=(n(57),"ADD_NEW_TASK"),F="TOGGLE_TASK",M="DELETE_TASK",P="CHANGE_TASK_FILTER",K="CHANGE_SEARCH_TASKS_INPUT_VALUE",U="CHANGE_ADD_TASK_INPUT_VALUE",G="CHECK_ALL_TASKS",H="DELETE_COMPLETED_TASKS",J="EDIT_TASK",W=function(e){return{type:U,payload:{value:e}}},$=function(e){return{type:P,payload:{filter:e}}},q=function(e){return{type:K,payload:{value:e}}},Y=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleChangeInput=function(t){(0,e.props.changeSearchTasksInputValue)(t.target.value)},e.handleClickClearButton=function(){(0,e.props.changeSearchTasksInputValue)("")},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tasksList,n=e.searchTasksInputValue,a=e.checkAllTasks,c=e.deleteCompletedTasks,r=!1,s=0;return t.forEach((function(e){e.check?r=!0:s+=1})),Object(d.jsx)(T.a,{in:!!t.length,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(d.jsxs)("header",{className:"tasks-header",children:[Object(d.jsx)("div",{className:"search",children:Object(d.jsx)("div",{className:"container search-container",children:Object(d.jsxs)("div",{className:"input-wrapper",children:[Object(d.jsx)(T.a,{in:!!n,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(d.jsx)("div",{onClick:this.handleClickClearButton,className:"clear-input",children:Object(d.jsx)(l.a,{icon:j.b})})}),Object(d.jsx)("input",{onChange:this.handleChangeInput,type:"text",placeholder:"Search",value:n})]})})}),Object(d.jsx)("div",{className:"bottom-side",children:Object(d.jsxs)("div",{className:"container bottom-container",children:[Object(d.jsxs)("div",{className:"column left-column",children:[Object(d.jsx)("div",{onClick:a,className:"button check-all-button".concat(t.length&&!s?" green":""),children:Object(d.jsx)(l.a,{icon:j.d})}),Object(d.jsxs)("div",{className:"counter",children:["Active: ",s]})]}),Object(d.jsx)("div",{className:"column right-column",children:Object(d.jsx)(T.a,{in:!!r,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(d.jsx)("div",{onClick:c,className:"button delete-completed-button",children:"Delete completed"})})})]})})]})})}}]),n}(c.a.Component),z={changeSearchTasksInputValue:function(e){return q(e)},checkAllTasks:function(){return{type:G}},deleteCompletedTasks:function(){return{type:H}}},Q=Object(i.b)((function(e){var t=e.tasks;return{tasksList:t.list,searchTasksInputValue:t.searchTasksInputValue}}),z)(Y),X=n(68),Z="All",ee="all",te="Active",ne="active",ae="Completed",ce="completed",re=(n(58),function(e){var t=e.otherValue,n=e.hightlightValue;return Object(d.jsxs)(d.Fragment,{children:[t,Object(d.jsx)("span",{className:"hightlight",children:n})]})}),se=function(e){var t=e.searchValue,n=e.string;if(t){var a=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(a,"gi"),r=n.match(c);return r?n.split(c).map((function(e,t,a){if(t<a.length-1){var c=r.shift();return Object(d.jsx)(re,{hightlightValue:c,otherValue:e},t+n)}return e})):n}return n},ie=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleClickValue=function(){var e=a.props.value;a.setState({isShowEditValue:!0,editorValue:e})},a.handleChangeEditor=function(e){console.log(e.target.value),a.setState({editorValue:e.target.value})},a.addNewValue=function(){var e=a.props,t=e.editTask,n=e.id,c=a.state.editorValue;c.trim()?(t({id:n,value:c}),a.setState({isShowEditValue:!1})):a.setState({isShowEditValue:!1,editorValue:""})},a.handlePressEditor=function(e){"Enter"===e.key&&a.addNewValue()},a.handleBlurEditor=function(){a.addNewValue()},a.handleFocusEditor=function(e){var t=e.target.value;e.target.value="",e.target.value=t},a.state={isShowEditValue:!1,editorValue:""},a}return Object(O.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.check,c=t.id,r=t.toggleTask,s=t.deleteTask,i=t.searchInputValue,u=this.state,o=u.isShowEditValue,h=u.editorValue;return Object(d.jsxs)("li",{className:"tasks-item".concat(a?" checked":""),id:c,children:[Object(d.jsx)("div",{className:"check-button",onClick:function(){return r(c)},children:Object(d.jsx)(T.a,{in:a,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(d.jsx)(l.a,{icon:j.c})})}),Object(d.jsx)("div",{className:"value",children:o?Object(d.jsx)("input",{onFocus:this.handleFocusEditor,autoFocus:!0,onChange:this.handleChangeEditor,onKeyPress:this.handlePressEditor,className:"inner editor",onBlur:this.handleBlurEditor,value:h,type:"text"}):Object(d.jsx)("div",{className:"inner",onClick:function(){return e.handleClickValue()},children:Object(d.jsx)(se,{searchValue:i,string:n})})}),Object(d.jsx)("div",{className:"delete-button",onClick:function(){return s(c)},children:Object(d.jsx)(l.a,{icon:j.k})})]})}}]),n}(c.a.Component),ue={deleteTask:function(e){return function(e){return{type:M,payload:{id:e}}}(e)},toggleTask:function(e){return function(e){return{type:F,payload:{id:e}}}(e)},editTask:function(e){return function(e){return{type:J,payload:e}}(e)}},oe=Object(i.b)((function(e){return{searchInputValue:e.tasks.searchTasksInputValue}}),ue)(ie),le=(n(59),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(e){var t=e.tasksList,n=e.filter,c=e.searchInputValue,r=a.props,s=r.tasksList,i=r.filter,u=r.searchInputValue;(t.length<s.length||n!==i||c!==u)&&a.tasksMainRef.current.scrollTo(0,0)},a.tasksMainRef=c.a.createRef(),a}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tasksList,n=e.filter,a=e.searchInputValue;return Object(d.jsx)("main",{className:"tasks-main",ref:this.tasksMainRef,children:Object(d.jsx)("div",{className:"tasks-list",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("ul",{children:Object(d.jsx)(X.a,{component:null,children:t.filter((function(e){switch(n){case ne:return!e.check;case ce:return e.check;default:return e}})).filter((function(e){if(a){var t=a.toLowerCase();return!!e.value.toLowerCase().includes(t)}return e})).reverse().map((function(e){var t=e.check,n=e.value,a=e.id;return Object(d.jsx)(T.a,{timeout:300,children:Object(d.jsx)(oe,{check:t,value:n,id:a})},a)}))})})})})})}}]),n}(c.a.Component)),je=Object(i.b)((function(e){var t=e.tasks;return{tasksList:t.list,filter:t.filter,searchInputValue:t.searchTasksInputValue}}))(le),de=(n(60),n(61),{changeTaskFilter:function(e){return $(e)}}),he=Object(i.b)((function(e){return{filter:e.tasks.filter}}),de)((function(e){var t=e.name,n=e.title,a=e.changeTaskFilter,c=e.filter,r="".concat(t===c?t+" current":t," button tasks-filter-button");return Object(d.jsx)("button",{onClick:function(){return a(t)},className:r,children:n})})),be=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleChangeInput=function(e){var t=a.props.changeAddTaskInputValue,n=e.target.value;n.length<=140&&t(n)},a.handlePressInput=function(e){"Enter"===e.key&&a.handleClickButton()},a.handleClickButton=function(){var e=a.props,t=e.changeAddTaskInputValue,n=e.addTaskInputValue;n.length&&n.trim()?((0,a.props.addNewTask)(n),t(""),a.setState({redInputBorder:!1})):a.setState({redInputBorder:!0});a.inputRef.current.focus()},a.handleBlurInput=function(){a.setState({redInputBorder:!1})},a.state={redInputBorder:!1},a.inputRef=c.a.createRef(),a}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.addTaskInputValue,n=e.tasksList,a=this.state.redInputBorder;return Object(d.jsxs)("footer",{className:"tasks-footer",children:[Object(d.jsx)(T.a,{in:!!n.length,timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)("div",{className:"filters",children:Object(d.jsxs)("div",{className:"filters-container container",children:[Object(d.jsx)(he,{name:ee,title:Z}),Object(d.jsx)(he,{name:ne,title:te}),Object(d.jsx)(he,{name:ce,title:ae})]})})}),Object(d.jsx)("div",{className:"add-task-input",children:Object(d.jsx)("div",{className:"container input-container",children:Object(d.jsxs)("div",{className:"input-wrapper",children:[Object(d.jsx)("input",{ref:this.inputRef,className:a?"red":"",onKeyPress:this.handlePressInput,onBlur:this.handleBlurInput,onChange:this.handleChangeInput,value:t,type:"text",placeholder:"Add Task"}),Object(d.jsx)(T.a,{in:!!t,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(d.jsx)("button",{onClick:this.handleClickButton,className:"button",children:Object(d.jsx)(l.a,{icon:j.j})})})]})})})]})}}]),n}(c.a.Component),Oe={addNewTask:function(e){return function(e){return{type:R,payload:{value:e}}}(e)},changeAddTaskInputValue:function(e){return W(e)}},pe=Object(i.b)((function(e){var t=e.tasks;return{tasksList:t.list,searchTasksInputValue:t.searchTasksInputValue,addTaskInputValue:t.addTaskInputValue}}),Oe)(be),fe=n(66),me=(n(62),n(63),function(){return Object(d.jsx)("div",{className:"tasks-welcome-banner",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"text",children:"This is where your tasks will be. You can add your first task in the field below."}),Object(d.jsx)(l.a,{icon:j.a})]})})}),ve=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.tasksList,a=t.changeAddTaskInputValue,c=t.changeTaskFilter,r=t.changeSearchTasksInputValue,s=e.tasksList;!n.length&&s.length&&(a(""),c(ee),r(""))}},{key:"render",value:function(){var e=this.props.tasksList;return Object(d.jsxs)("div",{className:"screen tasks-screen",children:[Object(d.jsx)(fe.a,{mode:"out-in",children:Object(d.jsx)(T.a,{timeout:300,children:e.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{}),Object(d.jsx)(je,{})]}):Object(d.jsx)(me,{})},!e.length)}),Object(d.jsx)(pe,{})]})}}]),n}(c.a.Component),xe={changeAddTaskInputValue:function(e){return W(e)},changeTaskFilter:function(e){return $(e)},changeSearchTasksInputValue:function(e){return q(e)}},ke=Object(i.b)((function(e){return{tasksList:e.tasks.list}}),xe)(ve),ge=function(){var e=Object(o.e)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(X.a,{component:null,children:Object(d.jsx)(T.a,{timeout:300,children:Object(d.jsxs)(o.c,{location:e,children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(v,{})}),Object(d.jsx)(o.a,{path:"/news",element:Object(d.jsx)(k,{})}),Object(d.jsx)(o.a,{path:"/weather",element:Object(d.jsx)(D,{})}),Object(d.jsx)(o.a,{path:"/tasks",element:Object(d.jsx)(ke,{})})]})},e.key)}),Object(d.jsx)(h,{})]})},ye=Object(i.b)((function(e){return{store:e}}))((function(e){var t=e.store;return Object(a.useEffect)((function(){localStorage.setItem("all-in-one",JSON.stringify(t))})),Object(d.jsx)(u.a,{children:Object(d.jsx)(ge,{})})})),Ee=n(22),Ne=n(32),Te=n(4),we=JSON.parse(localStorage.getItem("all-in-one")),Ce=(we=we?we.tasks:null)||{list:[],filter:ee,searchTasksInputValue:"",addTaskInputValue:""};var Ve=JSON.parse(localStorage.getItem("all-in-one")),Ie=(Ve=Ve?Ve.weather:null)||{currentLocation:{city:"",isSearchError:!1}};var Se=Object(Ee.combineReducers)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=e.list;switch(n){case R:return Object(Te.a)(Object(Te.a)({},e),{},{list:c.concat({value:a.value,check:!1,id:Date.now()})});case F:return Object(Te.a)(Object(Te.a)({},e),{},{list:c.map((function(e){return e.id===a.id?Object(Te.a)(Object(Te.a)({},e),{},{check:!e.check}):e}))});case M:return Object(Te.a)(Object(Te.a)({},e),{},{list:c.filter((function(e){return e.id!==a.id}))});case P:return Object(Te.a)(Object(Te.a)({},e),{},{filter:a.filter});case K:return Object(Te.a)(Object(Te.a)({},e),{},{searchTasksInputValue:a.value});case U:return Object(Te.a)(Object(Te.a)({},e),{},{addTaskInputValue:a.value});case G:var r=!1;return c.forEach((function(e){e.check||(r=!0)})),Object(Te.a)(Object(Te.a)({},e),{},{list:c.map((function(e){return Object(Te.a)(Object(Te.a)({},e),{},{check:r})}))});case H:return Object(Te.a)(Object(Te.a)({},e),{},{list:c.filter((function(e){return!e.check}))});case J:return Object(Te.a)(Object(Te.a)({},e),{},{list:c.map((function(e){var t=a.id,n=a.value;return e.id===t&&(e.value=n),e}))});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=e.currentLocation;return n===g?Object(Te.a)(Object(Te.a)({},e),{},{currentLocation:Object.assign(c,a)}):e}}),Le=n(33),Ae=n.n(Le),_e=n(34),Be=Object(Ee.createStore)(Se,Object(Ne.composeWithDevTools)(Object(Ee.applyMiddleware)(Ae.a,_e.a))),De=function(){return Object(d.jsx)(i.a,{store:Be,children:Object(d.jsx)(ye,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(64);s.a.render(Object(d.jsx)(De,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.cb7d4d97.chunk.js.map